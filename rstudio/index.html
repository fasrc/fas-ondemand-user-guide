<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://fasrc.github.io/fas-ondemand-user-guide/rstudio/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Rstudio Server - FAS OnDemand User Guide</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Rstudio Server";
        var mkdocs_page_input_path = "rstudio.md";
        var mkdocs_page_url = "/fas-ondemand-user-guide/rstudio/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> FAS OnDemand User Guide
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../firstlaunch/">First time launch</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../tour/">A brief tour</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../storage/">Storage</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Interactive Applications</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../jupyter/">Jupyter Notebooks</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Rstudio Server</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#getting-started-with-rstudio">Getting started with Rstudio</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#working-with-rstudio">Working with Rstudio</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#how-to-restart-rstudio">How to restart Rstudio</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#how-to-install-r-packages">How to install R packages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#how-to-connect-rstudio-to-github-with-https">How to connect Rstudio to github with HTTPS</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#how-to-connect-rstudio-to-github-with-ssh">How to connect Rstudio to github with SSH</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting-rstudio">Troubleshooting Rstudio</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#rstudio-will-not-start">Rstudio will not start</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#problem-logging-in-to-rstudio">Problem logging in to Rstudio</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../additionalresources/">Additional Resources</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Help</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../help/">Getting help</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../status/">System Status</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">FAS OnDemand User Guide</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Interactive Applications &raquo;</li>
      <li>Rstudio Server</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="rstudio-server">Rstudio Server</h1>
<h2 id="getting-started-with-rstudio">Getting started with Rstudio</h2>
<ol>
<li>
<p>On the menu bar, click <code>Interactive Apps</code> and select RStudio app for your class. For example, if your class is Gov 50, select <code>RStudio Server - Gov50</code>.<br/>
<img alt="Select-rstudio-App screenshot" src="../images/select-rstudio-app.png?raw=true" /></p>
</li>
<li>
<p>Click <code>Launch</code>.<br/>
<img alt="Launch-rstudio-server screenshot" src="../images/launch-rstudio-server.png?raw=true" /></p>
</li>
<li>
<p>On the page that follows, click <code>Connect to Rstudio Server</code>.<br/>
<img alt="Connect-to-rstudio-server screenshot" src="../images/connect-to-rstudio-server.png?raw=true" /></p>
</li>
<li>
<p>A new browser tab with Rstudio will open.<br/> 
<img alt="Rstudio-interface screenshot" src="../images/rstudio-interface.png?raw=true" /></p>
</li>
</ol>
<h2 id="working-with-rstudio">Working with Rstudio</h2>
<h3 id="how-to-restart-rstudio">How to restart Rstudio</h3>
<p><em>Before you restart, make sure any programs and data files that you want to preserve have been saved to your home directory.</em></p>
<p>To restart your Rstudio server completely, follow these steps:</p>
<ol>
<li>
<p>Navigate to <code>My Interactive Sessions</code> in FAS OnDemand.<br/>
<img alt="Navigate-to-interactive-sessions.png screenshot" src="../images/navigate-to-interactive-sessions.png?raw=true" /></p>
</li>
<li>
<p>Click <code>Delete</code> to remove your Rstudio server.<br/>
<img alt="Stop-rstudio-server.png screenshot" src="../images/stop-rstudio-server.png?raw=true" /></p>
</li>
<li>
<p>Click <code>Confirm</code>.<br/>
<img alt="confirm-delete-rstudio-session.png screenshot" src="../images/confirm-delete-rstudio-session.png?raw=true" />
<br/>
<img alt="after-delete-no-active-rstudio-sessions.png screenshot" src="../images/after-delete-no-active-rstudio-sessions.png?raw=true" /></p>
</li>
<li>
<p>Select the Rstudio app and launch a new server.<br/>
<img alt="Launch-rstudio-server.png screenshot" src="../images/launch-rstudio-server.png?raw=true" /></p>
</li>
</ol>
<h3 id="how-to-install-r-packages">How to install R packages</h3>
<p>Rstudio server comes preinstalled with most if not all packages required for your class, so if you can't find the package in the list of installed packages, make sure that you are connecting to the correct Rstudio app for your class before proceeding (e.g. <code>Rstudio Server - Gov50</code>).</p>
<p>In the event that you need to install additional R packages, you can install from CRAN or github as follows:
- CRAN: <code>install.packages('packagename')</code> 
- Github: <code>remotes::install_github('user/packagename')</code></p>
<p>For example, to install the <a href="https://cran.r-project.org/web/packages/shiny/index.html">shiny</a> package, run <code>install.packages('shiny')</code>:</p>
<p><img alt="Install-r-packages.png screenshot" src="../images/install-r-packages.png?raw=true" /></p>
<p>The packages will be installed to the <code>R</code> folder of your home directory. </p>
<h3 id="how-to-connect-rstudio-to-github-with-https">How to connect Rstudio to github with HTTPS</h3>
<p>Follow the steps below to connect Rstudio to github with HTTPS:</p>
<ol>
<li>
<p>Open a new browser tab and visit <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>. You may be prompted to login to your github account.<br/></p>
</li>
<li>
<p>Click <code>Generate new token</code>.<br/>
<img alt="github-personal-acces-tokens.png screenshot" src="../images/github-personal-acces-tokens.png?raw=true" /></p>
</li>
<li>
<p>Enter a <strong>Note</strong> (e.g. your course name), select <strong>repo</strong> scope(full control of private repositories), and then click <code>Generate token</code>.<br/>
<img alt="github-generate-new-token.png screenshot" src="../images/github-generate-new-token.png?raw=true" />
<br/>
<img alt="github-generate-new-token-submit.png screenshot" src="../images/github-generate-new-token-submit.png?raw=true" /></p>
</li>
<li>
<p>Copy this token or <em>PAT</em> to your clipboard (click the clipboard icon).<br/>
<img alt="github-personal-access-token-generated.png screenshot" src="../images/github-personal-access-token-generated.png?raw=true" /></p>
</li>
<li>
<p>In Rstudio, define an environment variable in <code>.Renviron</code> named <code>GITHUB_PAT</code> by following these steps:<br/></p>
<p>a. Enter the following in your <strong>Console</strong>:<br/></p>
<p><code>r
library(usethis)
edit_r_environ()</code></p>
<p>b. Add the <code>GITHUB_PAT</code> environment variable to <code>.Renviron</code>:<br/></p>
<p><code>GITHUB_PAT=PasteYourTokenHere</code></p>
<p><img alt="github-add-pat-to-renviron.png screenshot" src="../images/github-add-pat-to-renviron.png?raw=true" /></p>
<p>c. Save <code>.Renviron</code> and then close it.<br/></p>
<p><img alt="github-add-pat-to-renviron-save.png screenshot" src="../images/github-add-pat-to-renviron-save.png?raw=true" /></p>
</li>
<li>
<p>In Rstudio, set your git credentials. Enter the following in your <strong>Console</strong>, and when prompted, enter your <em>PAT</em> for the password.<br/></p>
<p><code>library(credentials)
credential_helper_set("store", global = TRUE)
git_credential_ask('https://github.com')</code></p>
<p><em>Note</em>: this will update <code>.gitconfig</code> and <code>.git-credentials</code> in your home directory.</p>
</li>
<li>
<p>Now you should be able to <em>Create a Project from Version Control</em> in RStudio using the HTTPS URL from github as the <code>Repository URL</code>.<br/></p>
</li>
</ol>
<h3 id="how-to-connect-rstudio-to-github-with-ssh">How to connect Rstudio to github with SSH</h3>
<p>Follow the steps below to connect Rstudio to github with SSH:</p>
<ol>
<li>
<p>Connect to Rstudio and navigate to <code>Tools &gt; Global Options</code>.<br/>
<img alt="Rstudio-navigate-to-global-options.png screenshot" src="../images/rstudio-navigate-to-global-options.png?raw=true" /></p>
</li>
<li>
<p>Select the options for <code>Git/SVN</code>.<br/>
<img alt="Rstudio-global-options-git.png screenshot" src="../images/rstudio-global-options-git.png?raw=true" /></p>
</li>
<li>
<p>Click <code>View public key</code>. <em>Note: this key is automatically created for you when you first login to FAS OnDemand.</em><br/>
<img alt="Rstudio-global-options-git-view-public-key.png screenshot" src="../images/rstudio-global-options-git-view-public-key.png?raw=true" /></p>
</li>
<li>
<p>Copy the key to your clipboard. Everything in the box needs to be copied, starting with <code>ssh-rsa ...</code>.<br/>
<img alt="Rstudio-global-options-git-view-public-key-details.png screenshot" src="../images/rstudio-global-options-git-view-public-key-details.png?raw=true" /></p>
</li>
<li>
<p>Open a new browser tab and visit <a href="https://github.com/settings/keys">https://github.com/settings/keys</a>. You may be prompted to login to your github account.<br/></p>
</li>
<li>
<p>Click <code>New SSH key</code>.</p>
<ul>
<li>For <code>Title</code>, enter a descriptive name (e.g. <code>OnDemand GOV50</code>).</li>
<li>For <code>Key</code>, paste the public key that you previously copied to your clipboard (see steps 3-4). <br/></li>
<li>Then click <code>Add SSH key</code>. <br/>
<img alt="Github-add-new-public-key.png screenshot" src="../images/github-add-new-public-key.png?raw=true" /> <br/>
<img alt="Github-view-ssh-keys.png screenshot" src="../images/github-view-ssh-keys.png?raw=true" /></li>
</ul>
</li>
<li>
<p>Now you should be able to <em>Create a Project from Version Control</em> in RStudio using the SSH URL from github as the <code>Repository URL</code>.<br/></p>
<p><img alt="github-clone-switch-to-ssh.png screenshot" src="../images/github-clone-switch-to-ssh.png?raw=true" /><br/>
<img alt="github-clone-ssh-url.png screenshot" src="../images/github-clone-ssh-url.png?raw=true" /></p>
</li>
</ol>
<h2 id="troubleshooting-rstudio">Troubleshooting Rstudio</h2>
<h3 id="rstudio-will-not-start">Rstudio will not start</h3>
<p>If Rstudio will not start and you get an error message like this:</p>
<p><img alt="sbatch-error-on-launch.png screenshot" src="../images/sbatch-error-on-launch.png?raw=true" /></p>
<p>Wait 2-3 minutes and try to re-launch the application. This may happen the very first time you login to FAS OnDemand and your account hasn't been fully provisioned yet.</p>
<p>If you continue to get this error or otherwise cannot start Rstudio, please contact <a href="mailto:ithelp@harvard.edu">ithelp@harvard.edu</a> for assistance.</p>
<h3 id="problem-logging-in-to-rstudio">Problem logging in to Rstudio</h3>
<p>f you have been logged out of Rstudio (because of inactivity, for example) then you may see a login screen like this:</p>
<p><img alt="rstudio-login-screen.png screenshot" src="../images/rstudio-login-screen.png?raw=true" /></p>
<p>To log back in to your Rstudio session, close that login page and then follow these steps:</p>
<ol>
<li>
<p>Navigate to <code>My Interactive Sessions</code> in FAS OnDemand.<br/>
<img alt="Navigate-to-interactive-sessions.png screenshot" src="../images/navigate-to-interactive-sessions.png?raw=true" /></p>
</li>
<li>
<p>Re-connect to your running Rstudio session:<br/>
<img alt="Connect-to-rstudio-server screenshot" src="../images/connect-to-rstudio-server.png?raw=true" /></p>
</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../jupyter/" class="btn btn-neutral float-left" title="Jupyter Notebooks"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../additionalresources/" class="btn btn-neutral float-right" title="Additional Resources">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../jupyter/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../additionalresources/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
